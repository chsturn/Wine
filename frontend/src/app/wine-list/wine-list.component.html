<h2>Wine List</h2>

<div *ngIf="error()" class="error">
  {{ error() }}
</div>

<div *ngIf="wines().length > 0; else noWines" class="wine-grid">
  <div *ngFor="let wine of wines()" class="wine-card">
    <div class="wine-details">
      <h3>{{ wine.name }} ({{ wine.year }})</h3>
      <p><strong>Winery:</strong> {{ wine.winery }}</p>
      <p><strong>Region:</strong> {{ wine.region }}</p>
      <p><strong>Grape:</strong> {{ wine.grapeVariety }}</p>
      <p><strong>Alcohol:</strong> {{ wine.alcoholPercentage }}%</p>
      <p><strong>Description:</strong> {{ wine.description }}</p>

      <div *ngIf="isEditor()" class="card-actions">
        <button class="btn-edit">Edit</button>
        <button class="btn-delete" (click)="deleteWine(wine._id!)">Delete</button>
      </div>
    </div>
  </div>
</div>

<ng-template #noWines>
  <p>No wines to display. Loading...</p>
</ng-template>
